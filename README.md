# JSON AI Schema Detector

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ JSON –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ö–µ–º —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π JSON Schema —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö –∏ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤
- üìã **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON Schema** - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å—Ö–µ–º JSON Schema
- üîÑ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º** - —Å–ª–∏—è–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å—Ö–µ–º–∞–º–∏
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ JSON –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–∏–≤ —Å—Ö–µ–º
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º –¥–∞–Ω–Ω—ã—Ö
- üéØ **Enum detection** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π
- üîó **–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
go install github.com/yanodincov/json-ai-schema-detector/cmd@latest
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–Ω–∞–ª–∏–∑ JSON —Ñ–∞–π–ª–∞

```bash
# –ë–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑
json-schema-detector analyze examples/sample_data.json

# –ê–Ω–∞–ª–∏–∑ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
json-schema-detector analyze examples/sample_data.json -o user_schema.json

# –ê–Ω–∞–ª–∏–∑ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
json-schema-detector analyze examples/sample_data.json -c config.yaml
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ö–µ–º—ã –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
json-schema-detector update user_schema.json -i new_data.json
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```bash
# –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
json-schema-detector validate data.json user_schema.json

# –ü–æ–¥—Ä–æ–±–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
json-schema-detector validate data.json user_schema.json -v

# –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
json-schema-detector validate data.json user_schema.json -s
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config.yaml`:

```yaml
# –ü–æ—Ä–æ–≥ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è enum —Ç–∏–ø–æ–≤
enum_threshold: 10

# –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
output_format: "json-schema"

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ö–µ–º
schemas_directory: "schemas"

# –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
preserve_comments: true

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
detect_polymorphic: true

# –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
strict_validation: false
```

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (sample_data.json)

```json
{
  "data": [
    {
      "id": 1,
      "name": "John Doe",
      "role": "admin",
      "permissions": ["read", "write", "delete"],
      "active": true
    },
    {
      "id": 2,
      "name": "Jane Smith",
      "role": "user",
      "active": true
    }
  ]
}
```

### –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º–∞—è —Å—Ö–µ–º–∞

```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "data": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä"
          },
          "name": {
            "type": "string",
            "description": "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
          },
          "role": {
            "type": "string",
            "enum": ["admin", "user"],
            "description": "–†–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ"
          },
          "permissions": {
            "type": "array",
            "items": {"type": "string"},
            "description": "–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞"
          },
          "active": {
            "type": "boolean",
            "description": "–°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"
          }
        },
        "required": ["id", "name", "role", "active"]
      }
    }
  },
  "required": ["data"]
}
```

## –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

```bash
git clone https://github.com/yanodincov/json-ai-schema-detector.git
cd json-ai-schema-detector
go mod tidy
go build -o json-schema-detector cmd/main.go
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ cmd/                    # CLI –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ main.go            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ root/              # –ö–æ—Ä–Ω–µ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ analyze/           # –ö–æ–º–∞–Ω–¥–∞ –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ update/            # –ö–æ–º–∞–Ω–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ validate/          # –ö–æ–º–∞–Ω–¥–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ pkg/                   # –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ types/             # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ analyzer/          # –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä JSON
‚îÇ   ‚îî‚îÄ‚îÄ validator/         # –í–∞–ª–∏–¥–∞—Ç–æ—Ä —Å—Ö–µ–º
‚îú‚îÄ‚îÄ examples/              # –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ schemas/               # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ö–µ–º—ã
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
go test ./...
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License 