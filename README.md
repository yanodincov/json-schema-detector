# JSON AI Schema Detector

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ JSON –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ö–µ–º —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π JSON Schema —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö –∏ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤
- üìã **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON Schema** - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å—Ö–µ–º JSON Schema
- üîÑ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º** - —Å–ª–∏—è–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å—Ö–µ–º–∞–º–∏
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ JSON –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–∏–≤ —Å—Ö–µ–º
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º –¥–∞–Ω–Ω—ã—Ö
- üéØ **Enum —Ç–∏–ø—ã** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π –≤ enum —Å –≤—ã–±–æ—Ä–æ–º –∑–Ω–∞—á–µ–Ω–∏–π
- üîó **–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ —Ç–∏–ø—ã** - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Å oneOf/anyOf
- üõ†Ô∏è **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è–º–∏** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –∏ –æ–ø–∏—Å–∞–Ω–∏–π —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã
- üìç **JSON Path –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - —Ç–æ—á–Ω–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è –ø–æ–ª–µ–π –≤ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ö–µ–º–∞—Ö
- üîß **–£–º–Ω—ã–µ default –∑–Ω–∞—á–µ–Ω–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ default –∑–Ω–∞—á–µ–Ω–∏–π
- üõ°Ô∏è **–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–∑–∞—Ç–∏—Ä–∞–Ω–∏—è** - –º–µ—Ö–∞–Ω–∏–∑–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö default –∑–Ω–∞—á–µ–Ω–∏–π
- üì¶ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤** - –∞–Ω–∞–ª–∏–∑ JSON –±–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è data
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–º–∏—Ç —Å—Ö–µ–º** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ git

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
go install github.com/yanodincov/json-ai-schema-detector/cmd@latest
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–Ω–∞–ª–∏–∑ JSON —Ñ–∞–π–ª–∞

```bash
# –ë–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑
json-schema-detector analyze examples/sample_data.json

# –ê–Ω–∞–ª–∏–∑ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
json-schema-detector analyze examples/sample_data.json -o user_schema.json

# –ê–Ω–∞–ª–∏–∑ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–º–º–∏—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
json-schema-detector analyze examples/sample_data.json --auto-commit
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ö–µ–º—ã –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
json-schema-detector update user_schema.json -i new_data.json

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–º–º–∏—Ç–æ–º
json-schema-detector update user_schema.json -i new_data.json --auto-commit
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```bash
# –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
json-schema-detector validate data.json user_schema.json

# –ü–æ–¥—Ä–æ–±–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
json-schema-detector validate data.json user_schema.json -v

# –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
json-schema-detector validate data.json user_schema.json -s
```

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è–º–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª–µ–π –≤ —Å—Ö–µ–º–µ
json-schema-detector list-fields user_schema.json

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª–µ–π —Å —Ç–∏–ø–∞–º–∏
json-schema-detector list-fields user_schema.json --types

# –ü–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª–µ–π
json-schema-detector list-fields user_schema.json --verbose

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—è –≤ enum —Ç–∏–ø
json-schema-detector update-field user_schema.json "data.0.role" enum

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ —Ç–∏–ø–∞
json-schema-detector update-field user_schema.json "data.0.user" polymorph

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –ø–æ–ª—è
json-schema-detector update-field user_schema.json "data.0.id" description

# –ó–∞—â–∏—Ç–∞ default –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç –ø–µ—Ä–µ–∑–∞—Ç–∏—Ä–∞–Ω–∏—è
json-schema-detector update-field user_schema.json "data.0.role" preserve-default

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (–≤—ã–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–∏)
json-schema-detector update-field user_schema.json "data.0.status"

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–º–º–∏—Ç–æ–º
json-schema-detector update-field user_schema.json "data.0.role" enum --auto-commit
```

### JSON Path –Ω–∞–≤–∏–≥–∞—Ü–∏—è

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—è–º–∏ –≤ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ö–µ–º–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JSON Path —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:

```bash
# –ü—Ä–æ—Å—Ç—ã–µ –ø–æ–ª—è
data.name           # –ø–æ–ª–µ name –≤ –æ–±—ä–µ–∫—Ç–µ data
data.id             # –ø–æ–ª–µ id –≤ –æ–±—ä–µ–∫—Ç–µ data

# –ú–∞—Å—Å–∏–≤—ã
data.0.name         # –ø–æ–ª–µ name –≤ –ø–µ—Ä–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ –º–∞—Å—Å–∏–≤–∞ data
users.0.profile.age # –ø–æ–ª–µ age –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

# –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
user.profile.settings.theme    # –≥–ª—É–±–æ–∫–æ –≤–ª–æ–∂–µ–Ω–Ω–æ–µ –ø–æ–ª–µ
config.database.connection.host # –ø–æ–ª–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

# –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
json-schema-detector list-fields schema.json
json-schema-detector update-field schema.json "data.0.role" enum
json-schema-detector update-field schema.json "users.0.profile.type" polymorph
```

### –£–º–Ω—ã–µ default –∑–Ω–∞—á–µ–Ω–∏—è

–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç default –∑–Ω–∞—á–µ–Ω–∏—è —Å —É–º–Ω–æ–π –ª–æ–≥–∏–∫–æ–π:

```bash
# –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∞–Ω–∞–ª–∏–∑–µ default –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
json-schema-detector analyze user.json

# –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ö–µ–º—ã default –æ–±–Ω—É–ª—è–µ—Ç—Å—è –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
json-schema-detector update user.schema.json -i user_updated.json

# –ó–∞—â–∏—Ç–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö default –∑–Ω–∞—á–µ–Ω–∏–π –æ—Ç –ø–µ—Ä–µ–∑–∞—Ç–∏—Ä–∞–Ω–∏—è
json-schema-detector update-field user.schema.json "role" preserve-default
```

**–ü—Ä–∞–≤–∏–ª–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è default:**
- ‚úÖ –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∞–Ω–∞–ª–∏–∑–µ (–µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –ø—É—Å—Ç–æ–µ)
- ‚úÖ –û–±–Ω—É–ª—è–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
- ‚úÖ –ù–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (`""`, `0`)
- ‚úÖ –í—Å–µ–≥–¥–∞ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è boolean –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –ó–∞—â–∏—â–∞–µ—Ç—Å—è –æ—Ç –ø–µ—Ä–µ–∑–∞—Ç–∏—Ä–∞–Ω–∏—è —Ñ–ª–∞–≥–æ–º `x-preserve-default`

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö:

```bash
# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –º–∞—Å—Å–∏–≤–æ–º –¥–∞–Ω–Ω—ã—Ö
{
  "data": [
    {"id": 1, "name": "John"}
  ]
}

# –û–¥–∏–Ω–æ—á–Ω—ã–π –æ–±—ä–µ–∫—Ç (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç)
{
  "id": 1,
  "name": "John",
  "profile": {
    "age": 30
  }
}
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–º–∏—Ç —Å—Ö–µ–º

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ git:

```bash
# –ê–Ω–∞–ª–∏–∑ —Å –∫–æ–º–º–∏—Ç–æ–º
json-schema-detector analyze data.json --auto-commit
# –°–æ–∑–¥–∞—Å—Ç –∫–æ–º–º–∏—Ç: "schema: analyze data.schema.json"

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –∫–æ–º–º–∏—Ç–æ–º  
json-schema-detector update schema.json -i new_data.json --auto-commit
# –°–æ–∑–¥–∞—Å—Ç –∫–æ–º–º–∏—Ç: "schema: update schema.json"

# –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª—è —Å –∫–æ–º–º–∏—Ç–æ–º
json-schema-detector update-field schema.json "field" enum --auto-commit
# –°–æ–∑–¥–∞—Å—Ç –∫–æ–º–º–∏—Ç: "schema: update-field schema.json"
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Git –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ PATH
- –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º
- –§–∞–π–ª —Å—Ö–µ–º—ã –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ staging area

**–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –∫–æ–º–º–∏—Ç–æ–≤:**
```
schema: <–æ–ø–µ—Ä–∞—Ü–∏—è> <–∏–º—è_—Ñ–∞–π–ª–∞_—Å—Ö–µ–º—ã>
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞–∑—É–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. 

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è:
- JSON Schema draft-07 —Ñ–æ—Ä–º–∞—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –£–º–Ω—ã–µ default –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –Ω–µ–ø—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ enum –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö —Ç–∏–ø–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

## –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è–º–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª–µ–π –≤ —Å—Ö–µ–º–µ
$ json-schema-detector list-fields examples/sample_data.schema.json

üîç –ü–æ–ª—è –≤ —Å—Ö–µ–º–µ: examples/sample_data.schema.json
‚îú‚îÄ‚îÄ data (array)
‚îÇ   ‚îú‚îÄ‚îÄ 0.active (boolean)
‚îÇ   ‚îú‚îÄ‚îÄ 0.created_at (string)
‚îÇ   ‚îú‚îÄ‚îÄ 0.id (number)
‚îÇ   ‚îú‚îÄ‚îÄ 0.name (string)
‚îÇ   ‚îú‚îÄ‚îÄ 0.role (string - enum: admin, user, manager)
‚îÇ   ‚îî‚îÄ‚îÄ 0.permissions (array)

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—è –≤ enum —Ç–∏–ø
$ json-schema-detector update-field examples/sample_data.schema.json "data.0.role" enum

üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è –≤ —Å—Ö–µ–º–µ
üìÑ –§–∞–π–ª —Å—Ö–µ–º—ã: examples/sample_data.schema.json
üéØ –ü—É—Ç—å –∫ –ø–æ–ª—é: data.0.role
üîÑ –û–ø–µ—Ä–∞—Ü–∏—è: enum

üìù –í–≤–µ–¥–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è enum (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É):
üí° –ó–∞–∫–æ–Ω—á–∏—Ç–µ –≤–≤–æ–¥ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π

–ó–Ω–∞—á–µ–Ω–∏–µ: admin
–ó–Ω–∞—á–µ–Ω–∏–µ: user
–ó–Ω–∞—á–µ–Ω–∏–µ: manager
–ó–Ω–∞—á–µ–Ω–∏–µ: 

üìù –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ
‚úÖ –ü–æ–ª–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–æ –≤ enum —Å 3 –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
üéØ –ó–Ω–∞—á–µ–Ω–∏—è: [admin user manager]
‚úÖ –ü–æ–ª–µ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ: data.0.role
```

### –†–∞–±–æ—Ç–∞ —Å default –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

```bash
# –ê–Ω–∞–ª–∏–∑ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º default
$ json-schema-detector analyze examples/user_simple.json

# –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∫–ª—é—á–∞–µ—Ç default –∑–Ω–∞—á–µ–Ω–∏—è
{
  "role": {
    "type": "string",
    "default": "admin"
  },
  "active": {
    "type": "boolean", 
    "default": true
  }
}

# –ó–∞—â–∏—Ç–∞ –∫—Ä–∏—Ç–∏—á–Ω–æ–≥–æ default –∑–Ω–∞—á–µ–Ω–∏—è
$ json-schema-detector update-field examples/user_simple.schema.json "role" preserve-default

üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è –≤ —Å—Ö–µ–º–µ
üìÑ –§–∞–π–ª —Å—Ö–µ–º—ã: examples/user_simple.schema.json
üéØ –ü—É—Ç—å –∫ –ø–æ–ª—é: role
üîÑ –û–ø–µ—Ä–∞—Ü–∏—è: preserve-default

üîí –ó–∞—â–∏—Ç–∞ default –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç –ø–µ—Ä–µ–∑–∞—Ç–∏—Ä–∞–Ω–∏—è
‚úÖ Default –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–æ: admin
‚úÖ –ü–æ–ª–µ –∑–∞—â–∏—â–µ–Ω–æ –æ—Ç –ø–µ—Ä–µ–∑–∞—Ç–∏—Ä–∞–Ω–∏—è default: role

# –¢–µ–ø–µ—Ä—å –ø–æ–ª–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–ª–∞–≥ –∑–∞—â–∏—Ç—ã
{
  "role": {
    "type": "string",
    "default": "admin",
    "x-preserve-default": true
  }
}
```

### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (sample_data.json)

```json
{
  "data": [
    {
      "id": 1,
      "name": "John Doe",
      "role": "admin",
      "permissions": ["read", "write", "delete"],
      "active": true
    },
    {
      "id": 2,
      "name": "Jane Smith",
      "role": "user",
      "active": true
    }
  ]
}
```

### –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º–∞—è —Å—Ö–µ–º–∞

```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "data": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä"
          },
          "name": {
            "type": "string",
            "description": "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
          },
          "role": {
            "type": "string",
            "enum": ["admin", "user"],
            "description": "–†–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ"
          },
          "permissions": {
            "type": "array",
            "items": {"type": "string"},
            "description": "–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞"
          },
          "active": {
            "type": "boolean",
            "description": "–°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"
          }
        },
        "required": ["id", "name", "role", "active"]
      }
    }
  },
  "required": ["data"]
}
```

## –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

```bash
git clone https://github.com/yanodincov/json-ai-schema-detector.git
cd json-ai-schema-detector
go mod tidy
go build -o json-schema-detector cmd/main.go
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ cmd/                    # CLI –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ main.go            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ root/              # –ö–æ—Ä–Ω–µ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ analyze/           # –ö–æ–º–∞–Ω–¥–∞ –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ update/            # –ö–æ–º–∞–Ω–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ validate/          # –ö–æ–º–∞–Ω–¥–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ update-field/      # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ list-fields/       # –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª–µ–π —Å—Ö–µ–º—ã
‚îú‚îÄ‚îÄ pkg/                   # –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ types/             # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ analyzer/          # –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä JSON
‚îÇ   ‚îú‚îÄ‚îÄ validator/         # –í–∞–ª–∏–¥–∞—Ç–æ—Ä —Å—Ö–µ–º
‚îÇ   ‚îî‚îÄ‚îÄ fieldmanager/      # –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–ª–µ–π —Å—Ö–µ–º—ã
‚îú‚îÄ‚îÄ examples/              # –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ schemas/               # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ö–µ–º—ã
```

## –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- üîÑ **–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ —Ç–∏–ø—ã** - —Å–æ–∑–¥–∞–Ω–∏–µ oneOf/anyOf —Å—Ö–µ–º –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤
- üß™ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- üìà **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—è–º –∏ —Ç–∏–ø–∞–º

### –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
- üåê **Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º–∞–º–∏
- üîå **API –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- üìä **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º –¥–∞–Ω–Ω—ã—Ö
- üé® **–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º** - —Ç–µ–º—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–≤–æ–¥–∞
- üîç **–ü–æ–∏—Å–∫ –ø–æ —Å—Ö–µ–º–∞–º** - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ–ª–µ–π –∏ —Ç–∏–ø–æ–≤

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
go test ./...
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License 